(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function I(){const n=["vip","gold","usual"],e=n[Math.floor(Math.random()*n.length)],t=new Date("1950-01-01").getTime(),s=Date.now(),a=new Date(Math.random()*(s-t)+t);return{status:e,date:a}}function g(){const n=[];for(let t=0;t<10;t++)n.push(I());const e={vip:1,gold:2,usual:3};return n.sort((t,s)=>e[t.status]!==e[s.status]?e[t.status]-e[s.status]:s.date-t.date),n}const h=document.getElementById("result3"),B=JSON.stringify(g(),null,2);h.textContent=B;const r=[{sessionId:"f4465250-1066-11eb-a1ba-333704aff6af",channelId:"543ea1f0-81d8-11e8-99e2-75a22f922020",companyId:"i14778026796",botName:"moneybox",time:1602677158,numderBot:1},{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",botName:"changecrlim",time:1602933008,numderBot:2},{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",botName:"changecrlim",time:1602930478,numderBot:3},{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",botName:"partpaym",time:1602929458,numderBot:4},{sessionId:"eeae0530-1067-11eb-a1ba-333704aff6af",channelId:"70fff320-42d9-11ea-ac8e-33aee523fe76",companyId:"i14778026796",botName:"mainformcurr",time:1602835558,numderBot:5},{sessionId:"eeae0530-1067-11eb-a1ba-333704aff6af",channelId:"70fff320-42d9-11ea-ac8e-33aee523fe76",companyId:"i14778026796",botName:"formcurr",time:1602835258,numderBot:6}],p=document.getElementById("tableBody"),m=document.getElementById("botFilter"),D=document.getElementById("sortNum"),k=document.getElementById("sortArrow");let c=[...r];const E=[...r].sort((n,e)=>n.numderBot-e.numderBot);let i=c.map(n=>n.numderBot).toString()!==E.map(n=>n.numderBot).toString();function b(n){p.innerHTML="";const e="padding: 6px 10px; border: 1px solid #000; text-align: center";n.forEach(t=>{const s=document.createElement("tr");s.innerHTML=`
          <td style="${e}">${t.sessionId}</td>
          <td style="${e}">${t.channelId}</td>
          <td style="${e}">${t.companyId}</td>
          <td style="${e}">${t.botName}</td>
          <td style="${e}">${t.time}</td>
          <td style="${e}">${t.numderBot}</td>
        `,p.appendChild(s)})}function C(){[...new Set(r.map(e=>e.botName))].forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e,m.appendChild(t)})}m.addEventListener("change",()=>{const n=m.value;c=n==="all"?[...r]:r.filter(e=>e.botName===n),b(c)});D.addEventListener("click",()=>{c.sort((n,e)=>i?n.numderBot-e.numderBot:e.numderBot-n.numderBot),k.textContent=i?"↓":"↑",i=!i,b(c)});C();b(c);const x=[{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",ekbId:"111111"},{sessionId:"eeae0530-1067-11eb-a1ba-333704aff6af",channelId:"70fff320-42d9-11ea-ac8e-33aee523fe76",companyId:"i14778026796",ekbId:"222222"},{sessionId:"f4465250-1066-11eb-a1ba-333704aff6af",channelId:"543ea1f0-81d8-11e8-99e2-75a22f922020",companyId:"i14778026796",ekbId:"333333"}],N=[{sessionId:"f4465250-1066-11eb-a1ba-333704aff6af",channelId:"543ea1f0-81d8-11e8-99e2-75a22f922020",companyId:"i14778026796",botName:"moneybox",time:1602677158,numderBot:1},{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",botName:"changecrlim",time:1602933008,numderBot:2},{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",botName:"changecrlim",time:1602930478,numderBot:3},{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",botName:"partpaym",time:1602929458,numderBot:4},{sessionId:"eeae0530-1067-11eb-a1ba-333704aff6af",channelId:"70fff320-42d9-11ea-ac8e-33aee523fe76",companyId:"i14778026796",botName:"mainformcurr",time:1602835558,numderBot:5},{sessionId:"eeae0530-1067-11eb-a1ba-333704aff6af",channelId:"70fff320-42d9-11ea-ac8e-33aee523fe76",companyId:"i14778026796",botName:"formcurr",time:1602835258,numderBot:6}];function S(n){const e={};return n.forEach(t=>{const s=`${t.botName}__${t.sessionId}`;(!e[s]||e[s].time<t.time)&&(e[s]=t)}),Object.values(e)}function $(n,e){const t=new Map(n.map(a=>[a.sessionId,a]));return S([...e]).map(a=>{const o=t.get(a.sessionId);return{...a,ekbId:o?o.ekbId:null}}).sort((a,o)=>o.time-a.time)}const w=document.getElementById("result6"),v=JSON.stringify($(x,N),null,2);w.textContent=v;async function y(n){const e=await fetch(n);if(!e.ok)throw new Error;return e.json()}async function U(n){const e=`https://api.privatbank.ua/p24api/exchange_rates?date=${n}`,a=(await y(e)).exchangeRate.filter(o=>o.currency==="USD"||o.currency==="EUR").map(o=>({ccy:o.currency,base_ccy:o.baseCurrency,buy:o.purchaseRate.toString(),sale:o.saleRate.toString()}));return{date:n,courses:a}}async function L(){const e=await y("https://api.privatbank.ua/p24api/pubinfo?exchange&coursid=5"),s=[{date:new Date().toLocaleDateString("uk-UA"),courses:[...e]}];for(let o=1;o<7;o++){const d=new Date;d.setDate(d.getDate()-o);const u=d.toLocaleDateString("uk-UA"),l=await U(u);s.push(l)}const a=[...s].sort((o,d)=>{const u=o.courses.find(f=>f.ccy==="USD"),l=d.courses.find(f=>f.ccy==="USD");return+u.sale-+l.sale});return{today:s[0].courses,yesterday:s[1].courses,weakStatistics:{minUSD:a[0],maxUSD:a[a.length-1]}}}const T=document.getElementById("result8"),A=JSON.stringify(await L(),null,2);T.textContent=A;const O=[["task1.json","task1Code"],["task2.js","task2Code"],["task3.js","task3Code"],["task4.js","task4Code"],["task5.html","task5CodeHTML"],["task5.js","task5CodeJS"],["task6.js","task6Code"],["task7.sql","task7Code"],["task8.js","task8Code"]];O.forEach(([n,e])=>{fetch(`/pb-test-task/tasks/${n}`).then(t=>t.text()).then(t=>{const s=document.getElementById(e);s&&(s.textContent=t)}).catch(t=>console.error(`Error loading ${n}`,t))});document.addEventListener("click",n=>{const e=n.target.closest(".copy-button");if(!e)return;const t=e.dataset.target,s=document.getElementById(t);s&&navigator.clipboard.writeText(s.textContent).then(()=>{const a=e.textContent;e.textContent="Скопійовано",setTimeout(()=>{e.textContent=a},1e3)})});console.log("BASE_URL =","/pb-test-task/");console.log("Тестовий запит");document.getElementById("test");resultDiv.textContent="TESTTEST";
