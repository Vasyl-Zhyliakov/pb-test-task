(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function h(){const e=["vip","gold","usual"],t=e[Math.floor(Math.random()*e.length)],n=new Date("1950-01-01").getTime(),s=Date.now(),a=new Date(Math.random()*(s-n)+n);return{status:t,date:a}}function I(){const e=[];for(let n=0;n<10;n++)e.push(h());const t={vip:1,gold:2,usual:3};return e.sort((n,s)=>t[n.status]!==t[s.status]?t[n.status]-t[s.status]:s.date-n.date),e}const g=document.getElementById("result3"),B=JSON.stringify(I(),null,2);g.textContent=B;const r=[{sessionId:"f4465250-1066-11eb-a1ba-333704aff6af",channelId:"543ea1f0-81d8-11e8-99e2-75a22f922020",companyId:"i14778026796",botName:"moneybox",time:1602677158,numderBot:1},{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",botName:"changecrlim",time:1602933008,numderBot:2},{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",botName:"changecrlim",time:1602930478,numderBot:3},{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",botName:"partpaym",time:1602929458,numderBot:4},{sessionId:"eeae0530-1067-11eb-a1ba-333704aff6af",channelId:"70fff320-42d9-11ea-ac8e-33aee523fe76",companyId:"i14778026796",botName:"mainformcurr",time:1602835558,numderBot:5},{sessionId:"eeae0530-1067-11eb-a1ba-333704aff6af",channelId:"70fff320-42d9-11ea-ac8e-33aee523fe76",companyId:"i14778026796",botName:"formcurr",time:1602835258,numderBot:6}],y=document.getElementById("tableBody"),f=document.getElementById("botFilter"),x=document.getElementById("sortNum"),k=document.getElementById("sortArrow");let c=[...r];const C=[...r].sort((e,t)=>e.numderBot-t.numderBot);let i=c.map(e=>e.numderBot).toString()!==C.map(e=>e.numderBot).toString();function b(e){y.innerHTML="";const t="padding: 6px 10px; border: 1px solid #000; text-align: center";e.forEach(n=>{const s=document.createElement("tr");s.innerHTML=`
          <td style="${t}">${n.sessionId}</td>
          <td style="${t}">${n.channelId}</td>
          <td style="${t}">${n.companyId}</td>
          <td style="${t}">${n.botName}</td>
          <td style="${t}">${n.time}</td>
          <td style="${t}">${n.numderBot}</td>
        `,y.appendChild(s)})}function D(){[...new Set(r.map(t=>t.botName))].forEach(t=>{const n=document.createElement("option");n.value=t,n.textContent=t,f.appendChild(n)})}f.addEventListener("change",()=>{const e=f.value;c=e==="all"?[...r]:r.filter(t=>t.botName===e),b(c)});x.addEventListener("click",()=>{c.sort((e,t)=>i?e.numderBot-t.numderBot:t.numderBot-e.numderBot),k.textContent=i?"↓":"↑",i=!i,b(c)});D();b(c);const E=[{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",ekbId:"111111"},{sessionId:"eeae0530-1067-11eb-a1ba-333704aff6af",channelId:"70fff320-42d9-11ea-ac8e-33aee523fe76",companyId:"i14778026796",ekbId:"222222"},{sessionId:"f4465250-1066-11eb-a1ba-333704aff6af",channelId:"543ea1f0-81d8-11e8-99e2-75a22f922020",companyId:"i14778026796",ekbId:"333333"}],N=[{sessionId:"f4465250-1066-11eb-a1ba-333704aff6af",channelId:"543ea1f0-81d8-11e8-99e2-75a22f922020",companyId:"i14778026796",botName:"moneybox",time:1602677158,numderBot:1},{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",botName:"changecrlim",time:1602933008,numderBot:2},{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",botName:"changecrlim",time:1602930478,numderBot:3},{sessionId:"74e40bf0-0fbd-11eb-8dcc-39ce21e9ded5",channelId:"d79ad580-8432-11e8-8ccb-47a5457db1b2",companyId:"i14778026796",botName:"partpaym",time:1602929458,numderBot:4},{sessionId:"eeae0530-1067-11eb-a1ba-333704aff6af",channelId:"70fff320-42d9-11ea-ac8e-33aee523fe76",companyId:"i14778026796",botName:"mainformcurr",time:1602835558,numderBot:5},{sessionId:"eeae0530-1067-11eb-a1ba-333704aff6af",channelId:"70fff320-42d9-11ea-ac8e-33aee523fe76",companyId:"i14778026796",botName:"formcurr",time:1602835258,numderBot:6}];function S(e){const t={};return e.forEach(n=>{const s=`${n.botName}__${n.sessionId}`;(!t[s]||t[s].time<n.time)&&(t[s]=n)}),Object.values(t)}function $(e,t){const n=new Map(e.map(a=>[a.sessionId,a]));return S([...t]).map(a=>{const o=n.get(a.sessionId);return{...a,ekbId:o?o.ekbId:null}}).sort((a,o)=>o.time-a.time)}const w=document.getElementById("result6"),v=JSON.stringify($(E,N),null,2);w.textContent=v;async function p(e){const t=await fetch(e);if(!t.ok)throw new Error;return t.json()}async function U(e){const t=`/api/p24api/exchange_rates?date=${e}`,a=(await p(t)).exchangeRate.filter(o=>o.currency==="USD"||o.currency==="EUR").map(o=>({ccy:o.currency,base_ccy:o.baseCurrency,buy:o.purchaseRate.toString(),sale:o.saleRate.toString()}));return{date:e,courses:a}}async function L(){const t=await p("/api/p24api/pubinfo?exchange&coursid=5"),s=[{date:new Date().toLocaleDateString("uk-UA"),courses:[...t]}];for(let o=1;o<7;o++){const d=new Date;d.setDate(d.getDate()-o);const u=d.toLocaleDateString("uk-UA"),l=await U(u);s.push(l)}const a=[...s].sort((o,d)=>{const u=o.courses.find(m=>m.ccy==="USD"),l=d.courses.find(m=>m.ccy==="USD");return+u.sale-+l.sale});return{today:s[0].courses,yesterday:s[1].courses,weakStatistics:{minUSD:a[0],maxUSD:a[a.length-1]}}}const A=document.getElementById("result8"),O=JSON.stringify(await L(),null,2);A.textContent=O;fetch("tasks/task1.json").then(e=>e.text()).then(e=>{document.getElementById("task1Code").textContent=e});fetch("tasks/task2.js").then(e=>e.text()).then(e=>{document.getElementById("task2Code").textContent=e});fetch("tasks/task3.js").then(e=>e.text()).then(e=>{document.getElementById("task3Code").textContent=e});fetch("tasks/task4.js").then(e=>e.text()).then(e=>{document.getElementById("task4Code").textContent=e});fetch("tasks/task5.html").then(e=>e.text()).then(e=>{document.getElementById("task5CodeHTML").textContent=e});fetch("tasks/task5.js").then(e=>e.text()).then(e=>{document.getElementById("task5CodeJS").textContent=e});fetch("tasks/task6.js").then(e=>e.text()).then(e=>{document.getElementById("task6Code").textContent=e});fetch("tasks/task7.sql").then(e=>e.text()).then(e=>{document.getElementById("task7Code").textContent=e});fetch("tasks/task8.js").then(e=>e.text()).then(e=>{document.getElementById("task8Code").textContent=e});document.addEventListener("click",e=>{const t=e.target.closest(".copy-button");if(!t)return;const n=t.dataset.target,s=document.getElementById(n);s&&navigator.clipboard.writeText(s.textContent).then(()=>{const a=t.textContent;t.textContent="Скопійовано",setTimeout(()=>{t.textContent=a},1e3)})});
